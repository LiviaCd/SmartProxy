version: '3.8'

# ============================================================================
# HAProxy Load Balancer
# ============================================================================

services:
  haproxy:
    build:
      context: ./haproxy
      dockerfile: haproxy.dockerfile
    container_name: smartproxy-haproxy
    ports:
      - "8080:8080"
      - "8404:8404"  # Stats page
    networks:
      - smartproxy-network
    restart: unless-stopped

networks:
  smartproxy-network:
    external: true

